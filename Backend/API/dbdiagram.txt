// Enum definitions
Enum "Gender" {
  Male
  Female
  Unknown
}

Enum "Weekday" {
  Monday
  Tuesday
  Wednesday
  Thursday
  Friday
  Saturday
  Sunday
}

Enum "TrainingType" {
  FBW
  Push
  Pull
  Upper
  Lower
  Custom
}

Table "users" {
  "id" integer [pk, increment]
  "email" varchar [unique]
  "hashed_password" varchar
  "birth_date" date
  "gender" Gender [default: 'Unknown']
}

Table "exercises" {
  "id" integer [pk, increment]
  "name" varchar(100)
  "target_muscle" varchar(100)
  "equipment" varchar(100)
  "youtube_url" varchar
}

Table "plans" {
  "id" integer [pk, increment]
  "name" varchar(50)
  "start_date" date
  "end_date" date
  "goals" varchar(50)
  "user_id" integer [ref: > users.id]
}

Table "trainings" {
  "id" integer [pk, increment]
  "name" varchar(50)
  "weekday" Weekday
  "type" TrainingType
  "user_id" integer [ref: > users.id]
  "plan_id" integer [ref: > plans.id]
}

Table "user_exercises" {
  "id" integer [pk, increment]
  "sets_number" integer
  "reps_number" integer
  "weight" float
  "notes" varchar(255)
  "exercise_id" integer [ref: > exercises.id]
  "user_id" integer [ref: > users.id]
  "training_id" integer [ref: > trainings.id]
}

Table "training_sessions" {
  "id" integer [pk, increment]
  "session_date" date [default: `CURRENT_DATE`]
  "training_id" integer [ref: > trainings.id]
}

Table "exercises_in_sessions" {
  "id" integer [pk, increment]
  "sets_number" integer
  "reps_number" integer
  "weight" float
  "user_exercise_id" integer [ref: > user_exercises.id]
  "training_session_id" integer [ref: > training_sessions.id]
}